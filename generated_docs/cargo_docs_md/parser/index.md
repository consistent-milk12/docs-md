*[cargo_docs_md](../index.md) / [parser](index.md)*

---

# Module `parser`

Rustdoc JSON parsing module.

This module handles loading and parsing rustdoc JSON files into the
`rustdoc_types::Crate` structure that represents the entire documented crate.

# Rustdoc JSON Format

Rustdoc JSON is generated by running:
```bash
cargo doc --output-format json
```

The output is a single JSON file at `target/doc/{crate_name}.json` containing:
- The crate's module hierarchy
- All public (and optionally private) items
- Documentation strings
- Type information and generics
- Cross-reference links between items

# Key Types

The parsed `Crate` contains:
- `root`: ID of the root module
- `index`: `HashMap` of all items by their ID
- `paths`: `HashMap` mapping IDs to their full module paths
- `crate_version`: Optional version string

# Performance

When the `simd-json` feature is enabled, parsing uses SIMD-accelerated
JSON parsing which is significantly faster for large rustdoc JSON files
(10-50MB+). This requires AVX2/SSE4.2 on x86 platforms.

# Memory Usage

The entire rustdoc JSON file is loaded into memory and deserialized into
a `Crate` structure. For typical crates (1-20MB JSON), this works well.

For very large crates (e.g., `aws_sdk_ec2` at ~500MB), memory usage will be:
- JSON file size in memory during parsing
- Plus the deserialized `Crate` structure (usually similar size)
- Peak memory ≈ 2x JSON file size

Future optimization: For extremely large crates, `serde_json::StreamDeserializer`
could be used for incremental parsing, trading some simplicity for lower peak memory.

## Quick Reference

| Item | Kind | Description |
|------|------|-------------|
| [`Parser`](#parser) | struct | Parser for rustdoc JSON files. |

## Structs

### `Parser`

```rust
struct Parser;
```

*Defined in `src/parser.rs:57`*

Parser for rustdoc JSON files.

Provides methods to load and parse rustdoc JSON from files or strings
into the `rustdoc_types::Crate` structure.

#### Implementations

- <span id="parser-parse-json"></span>`fn parse_json(json: &str) -> Result<Crate, Error>` — [`Error`](../error/index.md)

- <span id="parser-parse-file"></span>`fn parse_file(path: impl AsRef<std::path::Path>) -> Result<Crate, Error>` — [`Error`](../error/index.md)

- <span id="parser-parse-json-string"></span>`fn parse_json_string(content: &str) -> Result<Crate, Error>` — [`Error`](../error/index.md)

#### Trait Implementations

##### `impl Instrument for Parser`

##### `impl IntoEither for Parser`

##### `impl OwoColorize for Parser`

##### `impl Pointable for Parser`

- <span id="parser-const-align"></span>`const ALIGN: usize`

- <span id="parser-type-init"></span>`type Init = T`

- <span id="parser-init"></span>`unsafe fn init(init: <T as Pointable>::Init) -> usize`

- <span id="parser-deref"></span>`unsafe fn deref<'a>(ptr: usize) -> &'a T`

- <span id="parser-deref-mut"></span>`unsafe fn deref_mut<'a>(ptr: usize) -> &'a mut T`

- <span id="parser-drop"></span>`unsafe fn drop(ptr: usize)`

##### `impl WithSubscriber for Parser`

