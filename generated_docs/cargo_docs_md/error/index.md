*[cargo_docs_md](../index.md) / [error](index.md)*

---

# Module `error`

Error types for docs-md.

This module defines all errors that can occur during documentation generation.
Errors use the `miette` crate for enhanced diagnostics, providing:
- Human-readable error messages
- Diagnostic codes for programmatic handling
- Helpful suggestions for resolution

# Error Categories

- **I/O Errors** (`FileRead`, `CreateDir`, `FileWrite`): File system operations
- **Parse Errors** (`JsonParse`): Invalid or malformed rustdoc JSON
- **Lookup Errors** (`ItemNotFound`): Missing items in the documentation index

## Quick Reference

| Item | Kind | Description |
|------|------|-------------|
| [`Error`](#error) | enum | Errors that can occur during documentation generation. |

## Enums

### `Error`

```rust
enum Error {
    FileRead(StdIO::Error),
    JsonParse(SJSON::Error),
    CreateDir(StdIO::Error),
    FileWrite(StdIO::Error),
    ItemNotFound(String),
    InvalidDirectory(String),
    NoJsonFiles(std::path::PathBuf),
    DuplicateCrate(String),
    NoCrateName(std::path::PathBuf),
    ProgressBarTemplate(indicatif::style::TemplateError),
}
```

*Defined in `src/error.rs:30-205`*

Errors that can occur during documentation generation.

Each variant includes:
- A human-readable error message
- A diagnostic code (e.g., `docs_md::io::read`)
- Optional help text for resolution
- The underlying source error (where applicable)

#### Variants

- **`FileRead`**

  Failed to read a file from disk.
  
  This typically occurs when:
  - The file doesn't exist
  - The process lacks read permissions
  - The path is invalid

- **`JsonParse`**

  Failed to parse the rustdoc JSON file.
  
  This can happen when:
  - The file is not valid JSON
  - The JSON schema doesn't match `rustdoc-types` expectations
  - The file is from an incompatible rustdoc version

- **`CreateDir`**

  Failed to create the output directory.
  
  This typically occurs when:
  - The parent directory doesn't exist
  - The process lacks write permissions
  - The path is invalid or too long

- **`FileWrite`**

  Failed to write a markdown file.
  
  This typically occurs when:
  - The output directory is not writable
  - The disk is full
  - The file is locked by another process

- **`ItemNotFound`**

  An item ID was not found in the crate's index.
  
  The rustdoc JSON index should contain all referenced items.
  This error indicates data inconsistency, possibly from:
  - Corrupted JSON
  - Incompatible rustdoc-types version
  - Items removed during filtering
  
  The string contains the ID that was not found.

- **`InvalidDirectory`**

  The specified directory path is invalid or inaccessible.
  
  This typically occurs when:
  - The path doesn't exist
  - The path is a file, not a directory
  - The process lacks read permissions

- **`NoJsonFiles`**

  No rustdoc JSON files were found in the specified directory.
  
  The directory should contain `.json` files generated by rustdoc
  with the `--output-format json` flag.

- **`DuplicateCrate`**

  Multiple crates with the same name were found.
  
  Each JSON file should represent a unique crate. This error
  indicates duplicate crate names in the input directory.

- **`NoCrateName`**

  Could not determine the crate name from a JSON file.
  
  The rustdoc JSON format should include a root item with
  the crate name. This error indicates a malformed file.

- **`ProgressBarTemplate`**

  Failed to create a progress bar with the given template.
  
  This indicates an invalid progress bar template string.
  Since templates are compile-time constants, this error
  typically indicates a programming error.

#### Trait Implementations

##### `impl Debug for Error`

- <span id="error-fmt"></span>`fn fmt(&self, f: &mut fmt::Formatter<'_>) -> fmt::Result`

##### `impl Diagnostic for Error`

- <span id="error-code"></span>`fn code(&self) -> std::option::Option<std::boxed::Box<dyn std::fmt::Display>>`

- <span id="error-help"></span>`fn help(&self) -> std::option::Option<std::boxed::Box<dyn std::fmt::Display>>`

##### `impl Display for Error`

- <span id="error-fmt"></span>`fn fmt(&self, __formatter: &mut ::core::fmt::Formatter<'_>) -> ::core::fmt::Result`

##### `impl Error for Error`

- <span id="error-source"></span>`fn source(&self) -> ::core::option::Option<&dyn ::thiserror::__private17::Error>`

##### `impl Instrument for Error`

##### `impl IntoEither for Error`

##### `impl OwoColorize for Error`

##### `impl Pointable for Error`

- <span id="error-const-align"></span>`const ALIGN: usize`

- <span id="error-type-init"></span>`type Init = T`

- <span id="error-init"></span>`unsafe fn init(init: <T as Pointable>::Init) -> usize`

- <span id="error-deref"></span>`unsafe fn deref<'a>(ptr: usize) -> &'a T`

- <span id="error-deref-mut"></span>`unsafe fn deref_mut<'a>(ptr: usize) -> &'a mut T`

- <span id="error-drop"></span>`unsafe fn drop(ptr: usize)`

##### `impl ToCompactString for Error`

- <span id="error-try-to-compact-string"></span>`fn try_to_compact_string(&self) -> Result<CompactString, ToCompactStringError>`

##### `impl ToString for Error`

- <span id="error-to-string"></span>`fn to_string(&self) -> String`

##### `impl WithSubscriber for Error`

