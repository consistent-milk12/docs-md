*[cargo_docs_md](../index.md) / [error](index.md)*

---

# Module `error`

Error types for docs-md.

This module defines all errors that can occur during documentation generation.
Errors use the `miette` crate for enhanced diagnostics, providing:
- Human-readable error messages
- Diagnostic codes for programmatic handling
- Helpful suggestions for resolution

# Error Categories

- **I/O Errors** (`FileRead`, `CreateDir`, `FileWrite`): File system operations
- **Parse Errors** (`JsonParse`): Invalid or malformed rustdoc JSON
- **Lookup Errors** (`ItemNotFound`): Missing items in the documentation index

## Quick Reference

| Item | Kind | Description |
|------|------|-------------|
| [`Error`](#error) | enum | Errors that can occur during documentation generation. |

## Enums

### `Error`

```rust
enum Error {
    FileRead(StdIO::Error),
    JsonParse(SJSON::Error),
    CreateDir(StdIO::Error),
    FileWrite(StdIO::Error),
    ItemNotFound(String),
    InvalidDirectory(String),
    NoJsonFiles(std::path::PathBuf),
    DuplicateCrate(String),
    NoCrateName(std::path::PathBuf),
    ProgressBarTemplate(indicatif::style::TemplateError),
    SourceLocator(String),
    SourceParser(String),
    SourceCollector(String),
}
```

*Defined in `src/error.rs:30-205`*

Errors that can occur during documentation generation.

Each variant includes:
- A human-readable error message
- A diagnostic code (e.g., `docs_md::io::read`)
- Optional help text for resolution
- The underlying source error (where applicable)

#### Variants

- **`FileRead`**

  Failed to read a file from disk.
  
  This typically occurs when:
  - The file doesn't exist
  - The process lacks read permissions
  - The path is invalid

- **`JsonParse`**

  Failed to parse the rustdoc JSON file.
  
  This can happen when:
  - The file is not valid JSON
  - The JSON schema doesn't match `rustdoc-types` expectations
  - The file is from an incompatible rustdoc version

- **`CreateDir`**

  Failed to create the output directory.
  
  This typically occurs when:
  - The parent directory doesn't exist
  - The process lacks write permissions
  - The path is invalid or too long

- **`FileWrite`**

  Failed to write a markdown file.
  
  This typically occurs when:
  - The output directory is not writable
  - The disk is full
  - The file is locked by another process

- **`ItemNotFound`**

  An item ID was not found in the crate's index.
  
  The rustdoc JSON index should contain all referenced items.
  This error indicates data inconsistency, possibly from:
  - Corrupted JSON
  - Incompatible rustdoc-types version
  - Items removed during filtering
  
  The string contains the ID that was not found.

- **`InvalidDirectory`**

  The specified directory path is invalid or inaccessible.
  
  This typically occurs when:
  - The path doesn't exist
  - The path is a file, not a directory
  - The process lacks read permissions

- **`NoJsonFiles`**

  No rustdoc JSON files were found in the specified directory.
  
  The directory should contain `.json` files generated by rustdoc
  with the `--output-format json` flag.

- **`DuplicateCrate`**

  Multiple crates with the same name were found.
  
  Each JSON file should represent a unique crate. This error
  indicates duplicate crate names in the input directory.

- **`NoCrateName`**

  Could not determine the crate name from a JSON file.
  
  The rustdoc JSON format should include a root item with
  the crate name. This error indicates a malformed file.

- **`ProgressBarTemplate`**

  Failed to create a progress bar with the given template.
  
  This indicates an invalid progress bar template string.
  Since templates are compile-time constants, this error
  typically indicates a programming error.

- **`SourceLocator`**

  Failed to locate crate source in the Cargo registry.
  
  This occurs when:
  - The crate is not downloaded in ~/.cargo/registry/src/
  - The specified version doesn't exist
  - The registry path is misconfigured

- **`SourceParser`**

  Failed to parse Rust source code with syn.
  
  This occurs when:
  - The source file contains invalid Rust syntax
  - The file cannot be read
  - Module resolution fails

- **`SourceCollector`**

  Failed to collect dependency sources.
  
  This occurs when:
  - Cargo metadata cannot be loaded
  - The registry path doesn't exist
  - File copy operations fail
  - Too many .source_* directories exist

#### Trait Implementations

##### `impl Any for Error`

- <span id="error-any-type-id"></span>`fn type_id(&self) -> TypeId`

##### `impl<T> Borrow for Error`

- <span id="error-borrow"></span>`fn borrow(&self) -> &T`

##### `impl<T> BorrowMut for Error`

- <span id="error-borrowmut-borrow-mut"></span>`fn borrow_mut(&mut self) -> &mut T`

##### `impl Debug for Error`

- <span id="error-debug-fmt"></span>`fn fmt(&self, f: &mut fmt::Formatter<'_>) -> fmt::Result`

##### `impl Diagnostic for Error`

- <span id="error-diagnostic-code"></span>`fn code(&self) -> std::option::Option<std::boxed::Box<dyn std::fmt::Display>>`

- <span id="error-diagnostic-help"></span>`fn help(&self) -> std::option::Option<std::boxed::Box<dyn std::fmt::Display>>`

##### `impl Display for Error`

- <span id="error-display-fmt"></span>`fn fmt(&self, __formatter: &mut ::core::fmt::Formatter<'_>) -> ::core::fmt::Result`

##### `impl Error for Error`

- <span id="error-error-source"></span>`fn source(&self) -> ::core::option::Option<&dyn ::thiserror::__private17::Error>`

##### `impl<T> From for Error`

- <span id="error-from"></span>`fn from(t: T) -> T`

  Returns the argument unchanged.

##### `impl Instrument for Error`

##### `impl<U> Into for Error`

- <span id="error-into"></span>`fn into(self) -> U`

  Calls `U::from(self)`.

  

  That is, this conversion is whatever the implementation of

  <code>[From]&lt;T&gt; for U</code> chooses to do.

##### `impl IntoEither for Error`

##### `impl OwoColorize for Error`

##### `impl Pointable for Error`

- <span id="error-pointable-const-align"></span>`const ALIGN: usize`

- <span id="error-pointable-type-init"></span>`type Init = T`

- <span id="error-pointable-init"></span>`unsafe fn init(init: <T as Pointable>::Init) -> usize`

- <span id="error-pointable-deref"></span>`unsafe fn deref<'a>(ptr: usize) -> &'a T`

- <span id="error-pointable-deref-mut"></span>`unsafe fn deref_mut<'a>(ptr: usize) -> &'a mut T`

- <span id="error-pointable-drop"></span>`unsafe fn drop(ptr: usize)`

##### `impl ToCompactString for Error`

- <span id="error-tocompactstring-try-to-compact-string"></span>`fn try_to_compact_string(&self) -> Result<CompactString, ToCompactStringError>`

##### `impl ToString for Error`

- <span id="error-tostring-to-string"></span>`fn to_string(&self) -> String`

##### `impl<U> TryFrom for Error`

- <span id="error-tryfrom-type-error"></span>`type Error = Infallible`

- <span id="error-tryfrom-try-from"></span>`fn try_from(value: U) -> Result<T, <T as TryFrom>::Error>`

##### `impl<U> TryInto for Error`

- <span id="error-tryinto-type-error"></span>`type Error = <U as TryFrom>::Error`

- <span id="error-tryinto-try-into"></span>`fn try_into(self) -> Result<U, <U as TryFrom>::Error>`

##### `impl WithSubscriber for Error`

